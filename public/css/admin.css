:root{
  --bg0:#070b14;
  --bg1:#0b1220;
  --panel: rgba(255,255,255,0.06);
  --panel2: rgba(255,255,255,0.10);
  --border: rgba(255,255,255,0.12);

  --text:#e5e7eb;
  --muted: rgba(229,231,235,0.72);

  --brand:#60a5fa;
  --brand2:#a78bfa;
  --danger:#fb7185;
  --ok:#34d399;
  --warn:#fbbf24;

  --shadow: 0 18px 55px rgba(0,0,0,0.45);
  --shadow2: 0 10px 28px rgba(0,0,0,0.28);

  --r: 14px;
  --r2: 18px;
  --gap: 14px;
  --side: 290px;

  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: var(--font);
  color: var(--text);
  background:
    radial-gradient(1200px 700px at 10% -10%, rgba(96,165,250,0.22), transparent 60%),
    radial-gradient(900px 520px at 110% 10%, rgba(167,139,250,0.16), transparent 58%),
    radial-gradient(900px 520px at 85% 110%, rgba(251,113,133,0.13), transparent 55%),
    linear-gradient(180deg, var(--bg0), var(--bg1));
}

/* --- App shell --- */
.page{min-height:100vh}
.layout{display:flex; min-height:100vh}

/* --- Sidebar --- */
.sidebar{
  width: var(--side);
  background: rgba(255,255,255,0.035);
  border-right: 1px solid var(--border);
  backdrop-filter: blur(16px);
  padding: 18px;
  display:flex;
  flex-direction:column;
  position:sticky;
  top:0;
  height:100vh;
}
.sidebar__top{display:flex; flex-direction:column; gap:14px}

/* Brand block */
.brand{
  display:flex; align-items:center; gap:12px;
  padding: 12px;
  border: 1px solid var(--border);
  border-radius: var(--r2);
  background: linear-gradient(135deg, rgba(96,165,250,0.10), rgba(167,139,250,0.08));
  box-shadow: var(--shadow2);
}
.brand__logo{
  width:44px;height:44px;border-radius: 14px;
  display:grid;place-items:center;
  background: linear-gradient(135deg, rgba(96,165,250,0.30), rgba(251,113,133,0.18));
  border: 1px solid rgba(255,255,255,0.14);
  font-weight:900;
  letter-spacing:0.04em;
}
.brand__title{font-weight:900; letter-spacing:0.3px}
.brand__sub{font-size:12px; color:var(--muted)}

/* User card */
.who{
  display:flex; align-items:center; gap:12px;
  padding: 12px;
  border: 1px solid var(--border);
  border-radius: var(--r2);
  background: rgba(255,255,255,0.03);
}
.avatar{
  width:44px;height:44px;border-radius:999px; object-fit:cover;
  border: 1px solid rgba(255,255,255,0.15);
}
.who__name{font-weight:800}
.who__email{
  font-size:12px; color:var(--muted);
  max-width:170px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap
}

/* Nav */
.nav{display:flex; flex-direction:column; gap:8px; margin-top:8px}
.nav__sep{height:1px; background: rgba(255,255,255,0.10); margin:10px 0}

.nav__item{
  text-decoration:none;
  color: rgba(229,231,235,0.92);
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid transparent;
  background: transparent;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.nav__item:hover{
  background: rgba(255,255,255,0.06);
  border-color: rgba(255,255,255,0.12);
  transform: translateY(-1px);
}
.nav__item.is-active{
  background: linear-gradient(135deg, rgba(96,165,250,0.16), rgba(167,139,250,0.12));
  border-color: rgba(96,165,250,0.38);
}

.sidebar__bottom{margin-top:auto; padding-top:14px}

/* --- Main --- */
.main{flex:1; display:flex; flex-direction:column; min-width:0}

/* Topbar */
.topbar{
  position:sticky; top:0; z-index:30;
  display:flex; align-items:center; justify-content:space-between;
  padding: 14px 16px;
  border-bottom: 1px solid var(--border);
  background: rgba(7,11,20,0.55);
  backdrop-filter: blur(16px);
}
.topbar__left{display:flex; align-items:center; gap:12px; min-width:0}
.topbar__title{
  font-weight:900;
  letter-spacing:0.2px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.topbar__right{display:flex; align-items:center; gap:10px}

/* Icon button */
.iconbtn{
  width:44px; height:44px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.04);
  color: var(--text);
  cursor:pointer;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.iconbtn:hover{
  background: rgba(255,255,255,0.06);
  border-color: rgba(255,255,255,0.16);
  transform: translateY(-1px);
}
.iconbtn:active{transform: translateY(0px) scale(0.98)}

/* Content */
.content{padding: 18px; max-width: 1220px; width:100%; margin: 0 auto}

/* Flash */
.flashwrap{padding: 14px 18px 0}
.flash{
  border-radius: 14px;
  border:1px solid var(--border);
  padding: 12px 12px;
  background: rgba(255,255,255,0.04);
}
.flash--success{border-color: rgba(52,211,153,0.35); color: rgba(167,243,208,0.95)}
.flash--error{border-color: rgba(251,113,133,0.35); color: rgba(254,202,202,0.95)}

/* --- Page head (used in my views) --- */
.page__head{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 14px;
  margin-bottom: 14px;
}
.page__title{
  margin:0;
  font-size: 22px;
  letter-spacing:0.2px;
  font-weight: 900;
}
.page__subtitle{
  margin:6px 0 0;
  color: var(--muted);
  font-size: 13px;
  line-height: 1.45;
}
.page__actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap}

/* --- Card --- */
.card{
  border: 1px solid var(--border);
  border-radius: var(--r2);
  background: rgba(255,255,255,0.04);
  box-shadow: var(--shadow);
}
.card__head{
  padding: 14px 14px 0;
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap: 10px;
}
.card__title{
  margin:0;
  font-weight:900;
  letter-spacing:0.2px;
}
.card__body{padding: 14px}
.card__foot{
  padding: 14px;
  border-top: 1px solid rgba(255,255,255,0.10);
  display:flex;
  gap:10px;
  justify-content:flex-end;
  flex-wrap:wrap;
}

/* --- Buttons --- */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.04);
  color: var(--text);
  text-decoration:none;
  padding: 10px 12px;
  cursor:pointer;
  font-weight:800;
  letter-spacing:0.1px;
  transition: transform .12s ease, background .12s ease, border-color .12s ease, box-shadow .12s ease;
}
.btn:hover{
  background: rgba(255,255,255,0.06);
  border-color: rgba(255,255,255,0.18);
  transform: translateY(-1px);
  box-shadow: 0 10px 22px rgba(0,0,0,0.18);
}
.btn:active{transform: translateY(0px) scale(0.98)}
.btn--primary{
  background: linear-gradient(135deg, rgba(96,165,250,0.22), rgba(167,139,250,0.12));
  border-color: rgba(96,165,250,0.40);
}
.btn--danger{
  background: linear-gradient(135deg, rgba(251,113,133,0.22), rgba(251,113,133,0.10));
  border-color: rgba(251,113,133,0.40);
}
.btn--ghost{background: transparent}
.btn--full{width:100%}
.btn.is-disabled{
  opacity: 0.5;
  pointer-events:none;
  filter: saturate(0.6);
}

/* --- Inputs --- */
.search{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.label{display:block; font-size:12px; color: var(--muted); margin-bottom:6px; letter-spacing:0.08em; text-transform:uppercase}
.req{color: rgba(251,113,133,0.95); font-weight:900}

.input, select.input, textarea.input{
  width:100%;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.03);
  color: var(--text);
  padding: 12px 12px;
  outline:none;
  transition: border-color .12s ease, background .12s ease, box-shadow .12s ease;
}
.input:focus{
  border-color: rgba(96,165,250,0.55);
  background: rgba(255,255,255,0.04);
  box-shadow: 0 0 0 4px rgba(96,165,250,0.16);
}
.input[disabled]{
  opacity: 0.6;
  cursor:not-allowed;
}
.hint{margin-top:6px; font-size:12px; color: var(--muted)}
.error{margin-top:6px; font-size:12px; color: rgba(254,202,202,0.95)}

/* Forms/grid */
.form{display:flex; flex-direction:column; gap:12px}
.grid{display:grid; gap:12px}
.grid--2{grid-template-columns: 1fr 1fr}
.field{display:flex; flex-direction:column}
.field--full{grid-column: 1 / -1}

/* --- Table --- */
.tablewrap{
  overflow:auto;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.12);
}
.table{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  min-width: 860px;
}
.table th, .table td{
  padding: 12px 12px;
  border-bottom: 1px solid rgba(255,255,255,0.08);
  text-align:left;
  vertical-align: top;
}
.table th{
  font-size:11px;
  color: var(--muted);
  letter-spacing:0.10em;
  text-transform:uppercase;
  background: rgba(255,255,255,0.02);
  position: sticky;
  top: 0;
  z-index: 1;
}
.table tr:hover td{background: rgba(255,255,255,0.03)}

.cell__title{font-weight:850}
.cell__sub{color: var(--muted); font-size:12px; margin-top:3px}
.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
.actions{display:flex; gap:8px; flex-wrap:wrap}
.empty{padding: 18px; color: var(--muted); text-align:center}

/* Pager */
.pager{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  margin-top: 14px;
  flex-wrap:wrap;
}
.pager__meta{color: var(--muted); font-size: 13px}
.sep{opacity:0.5; margin: 0 6px}

/* --- Drawer --- */
.drawer{display:none}
.drawer.is-open{display:block}
.drawer__backdrop{
  position:fixed; inset:0;
  background: rgba(0,0,0,0.60);
  z-index:80;
}
.drawer__panel{
  position:fixed; top:0; left:0; height:100vh; width:min(340px, 92vw);
  background: rgba(7,11,20,0.92);
  border-right:1px solid rgba(255,255,255,0.14);
  z-index:90;
  padding: 16px;
  backdrop-filter: blur(16px);
  display:flex; flex-direction:column; gap:12px;
}
.drawer__top{display:flex; align-items:center; justify-content:space-between; gap:12px}
.drawer__close{
  width:44px;height:44px;border-radius:14px;
  border:1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.04);
  color:var(--text);
  cursor:pointer;
}

/* --- Responsive --- */
@media (max-width: 1024px){
  .sidebar{display:none}
  .content{padding: 14px}
  .page__head{flex-direction:column; align-items:stretch}
  .page__actions{justify-content:flex-start}
}

@media (max-width: 780px){
  .grid--2{grid-template-columns: 1fr}
  .table{min-width: 0}
  .tablewrap{border:0; background:transparent}
  .table thead{display:none}

  /* Mobile “cards” */
  .table, .table tbody, .table tr, .table td{
    display:block;
    width:100%;
  }
  .table tr{
    border: 1px solid rgba(255,255,255,0.12);
    border-radius: 16px;
    background: rgba(255,255,255,0.04);
    box-shadow: var(--shadow2);
    margin-bottom: 12px;
    overflow:hidden;
  }
  .table td{
    border:0;
    padding: 10px 12px;
  }
  .actions{margin-top: 6px}
}
/* ===== PATCH: bouton menu ☰ uniquement sur mobile ===== */
@media (min-width: 1025px){
  .topbar .iconbtn[data-admin-drawer-open]{ display:none; }
}
@media (max-width: 1024px){
  .topbar .iconbtn[data-admin-drawer-open]{ display:inline-flex; }
}

/* ===== PATCH: sidebar scrollable (menu long) ===== */
.sidebar{
  overflow: hidden;            /* empêche le scroll global */
}
.sidebar .nav{
  overflow-y: auto;            /* scroll uniquement sur la nav */
  padding-right: 6px;          /* laisse de la place pour la scrollbar */
  flex: 1;                     /* prend la hauteur restante */
}

/* scrollbar fine (Chrome/Edge) */
.sidebar .nav::-webkit-scrollbar{ width: 8px; }
.sidebar .nav::-webkit-scrollbar-thumb{
  background: rgba(255,255,255,0.16);
  border-radius: 999px;
}
.sidebar .nav::-webkit-scrollbar-track{
  background: rgba(0,0,0,0.10);
}




/* ===== PATCH: scroll menu UNIQUEMENT sur mobile (drawer) ===== */

/* Mobile: le drawer est défilable */
@media (max-width: 1024px){
  /* Le panel doit pouvoir scroller si menu long */
  .drawer__panel{
    overflow: hidden; /* scroll interne seulement */
  }

  .drawer__panel .nav{
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    flex: 1;
    padding-right: 6px;
    padding-bottom: 18px;
  }

  /* Scrollbar discrète (Chrome/Edge) */
  .drawer__panel .nav::-webkit-scrollbar{ width: 7px; }
  .drawer__panel .nav::-webkit-scrollbar-thumb{
    background: rgba(255,255,255,0.18);
    border-radius: 999px;
  }
  .drawer__panel .nav::-webkit-scrollbar-track{
    background: rgba(0,0,0,0.10);
  }
}
